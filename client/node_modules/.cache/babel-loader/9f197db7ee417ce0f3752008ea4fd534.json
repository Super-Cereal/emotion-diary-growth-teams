{"ast":null,"code":"import \"./login\";\nconst configDomain = createDomain();\nexport const {\n  clearConfig\n} = createApi($config, {\n  clearConfig: () => null\n});\nexport const getConfigRequest = configDomain.createEffect(async params => {\n  return await api.get(\"/api/config\", params);\n});\nexport const postConfigRequest = configDomain.createEffect(async params => {\n  const {\n    config,\n    password\n  } = params;\n  await api.postConfigRequest(config, password);\n});\nexport const patchConfigRequest = configDomain.createEffect(async _ref => {\n  let {\n    alias,\n    config,\n    password\n  } = _ref;\n  await api.patchConfigRequest(alias, config, password);\n  await getConfigRequest({\n    alias,\n    password: config.password\n  });\n});\nexport const deleteConfigRequest = configDomain.createEffect(async params => {\n  await api.deleteConfig(params);\n  clearConfig();\n});\nconfigDomain.onCreateEffect(effect => {\n  effect.fail.watch(_ref2 => {\n    var _error$response, _error$response$data;\n\n    let {\n      error\n    } = _ref2;\n    return ErrNot((error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || DEFAULT_ERROR_MESSAGE);\n  });\n});","map":{"version":3,"names":["configDomain","createDomain","clearConfig","createApi","$config","getConfigRequest","createEffect","params","api","get","postConfigRequest","config","password","patchConfigRequest","alias","deleteConfigRequest","deleteConfig","onCreateEffect","effect","fail","watch","error","ErrNot","response","data","message","DEFAULT_ERROR_MESSAGE"],"sources":["/Users/pikcelll/Documents/projects/tot-hack-growth-teams/client/src/store/init.ts"],"sourcesContent":["import \"./login\";\nconst configDomain = createDomain();\n\nexport const { clearConfig } = createApi($config, {\n  clearConfig: () => null,\n});\n\nexport const getConfigRequest = configDomain.createEffect(\n  async (params: { alias: string; password: string }) => {\n    return await api.get<ConfigModel>(\"/api/config\", params);\n  },\n);\n\nexport const postConfigRequest = configDomain.createEffect(\n  async (params: { config: defaultConfigModel; password: string }) => {\n    const { config, password } = params;\n\n    await api.postConfigRequest(config, password);\n  },\n);\n\nexport const patchConfigRequest = configDomain.createEffect(\n  async ({ alias, config, password }: { alias: string; config: ConfigModel; password: string }) => {\n    await api.patchConfigRequest(alias, config, password);\n    await getConfigRequest({ alias, password: config.password });\n  },\n);\n\nexport const deleteConfigRequest = configDomain.createEffect(\n  async (params: { alias: string; password: string }) => {\n    await api.deleteConfig(params);\n    clearConfig();\n  },\n);\n\nconfigDomain.onCreateEffect((effect) => {\n  effect.fail.watch(({ error }: { error: any }) =>\n    ErrNot(error?.response?.data?.message || DEFAULT_ERROR_MESSAGE),\n  );\n});\n"],"mappings":"AAAA,OAAO,SAAP;AACA,MAAMA,YAAY,GAAGC,YAAY,EAAjC;AAEA,OAAO,MAAM;EAAEC;AAAF,IAAkBC,SAAS,CAACC,OAAD,EAAU;EAChDF,WAAW,EAAE,MAAM;AAD6B,CAAV,CAAjC;AAIP,OAAO,MAAMG,gBAAgB,GAAGL,YAAY,CAACM,YAAb,CAC9B,MAAOC,MAAP,IAAuD;EACrD,OAAO,MAAMC,GAAG,CAACC,GAAJ,CAAqB,aAArB,EAAoCF,MAApC,CAAb;AACD,CAH6B,CAAzB;AAMP,OAAO,MAAMG,iBAAiB,GAAGV,YAAY,CAACM,YAAb,CAC/B,MAAOC,MAAP,IAAoE;EAClE,MAAM;IAAEI,MAAF;IAAUC;EAAV,IAAuBL,MAA7B;EAEA,MAAMC,GAAG,CAACE,iBAAJ,CAAsBC,MAAtB,EAA8BC,QAA9B,CAAN;AACD,CAL8B,CAA1B;AAQP,OAAO,MAAMC,kBAAkB,GAAGb,YAAY,CAACM,YAAb,CAChC,cAAiG;EAAA,IAA1F;IAAEQ,KAAF;IAASH,MAAT;IAAiBC;EAAjB,CAA0F;EAC/F,MAAMJ,GAAG,CAACK,kBAAJ,CAAuBC,KAAvB,EAA8BH,MAA9B,EAAsCC,QAAtC,CAAN;EACA,MAAMP,gBAAgB,CAAC;IAAES,KAAF;IAASF,QAAQ,EAAED,MAAM,CAACC;EAA1B,CAAD,CAAtB;AACD,CAJ+B,CAA3B;AAOP,OAAO,MAAMG,mBAAmB,GAAGf,YAAY,CAACM,YAAb,CACjC,MAAOC,MAAP,IAAuD;EACrD,MAAMC,GAAG,CAACQ,YAAJ,CAAiBT,MAAjB,CAAN;EACAL,WAAW;AACZ,CAJgC,CAA5B;AAOPF,YAAY,CAACiB,cAAb,CAA6BC,MAAD,IAAY;EACtCA,MAAM,CAACC,IAAP,CAAYC,KAAZ,CAAkB;IAAA;;IAAA,IAAC;MAAEC;IAAF,CAAD;IAAA,OAChBC,MAAM,CAAC,CAAAD,KAAK,SAAL,IAAAA,KAAK,WAAL,+BAAAA,KAAK,CAAEE,QAAP,4FAAiBC,IAAjB,8EAAuBC,OAAvB,KAAkCC,qBAAnC,CADU;EAAA,CAAlB;AAGD,CAJD"},"metadata":{},"sourceType":"module"}